# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –Ω–∞–ª–∏—á–∏—è —Ç–æ–≤–∞—Ä–æ–≤ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º

## –ü—Ä–æ–±–ª–µ–º–∞
–¢–æ–≤–∞—Ä—ã –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º –ø–æ–∫–∞–∑—ã–≤–∞–ª–∏—Å—å –∫–∞–∫ "–ù–µ—Ç –≤ –Ω–∞–ª–∏—á–∏–∏", —Ö–æ—Ç—è –æ–Ω–∏ –±—ã–ª–∏ –≤ –Ω–∞–ª–∏—á–∏–∏ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ.

## –ü—Ä–∏—á–∏–Ω–∞
API –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ (`/api/webapp/favorites`) –Ω–µ –≤–æ–∑–≤—Ä–∞—â–∞–ª –ø–æ–ª–µ `stock_quantity` –≤ –¥–∞–Ω–Ω—ã—Ö —Ç–æ–≤–∞—Ä–æ–≤, –∏–∑-–∑–∞ —á–µ–≥–æ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –º–æ–≥ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Ä–µ–∞–ª—å–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–≤–∞—Ä–∞.

## –†–µ—à–µ–Ω–∏–µ

### 1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω API –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
**–§–∞–π–ª**: `src/app/api/webapp/favorites/route.ts`

–î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `stock_quantity` –≤ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –¥–∞–Ω–Ω—ã–µ:

```typescript
const result = favorites
  .filter(fav => fav.products?.show_in_webapp)
  .map(favorite => {
    const product = favorite.products;
    return {
      id: Number(favorite.id),
      product_id: Number(product?.id),
      title: product?.name,
      price: product?.price,
      old_price: product?.old_price,
      stock_quantity: product?.stock_quantity || 0, // ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ
      is_in_stock: (product?.stock_quantity || 0) > 0,
      image_url: product?.image_url,
      created_at: favorite.created_at
    };
  });
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω –º–∞–ø–ø–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–µ
**–§–∞–π–ª**: `src/app/webapp/favorites/page.tsx`

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω –º–∞–ø–ø–∏–Ω–≥ –¥–∞–Ω–Ω—ã—Ö –∏–∑ API:

```typescript
const products = data.favorites.map((item: any) => ({
  id: item.product_id,
  name: item.title,
  price: item.price,
  old_price: item.old_price,
  stock_quantity: item.stock_quantity || 0, // ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ–º –∏–∑ API
  image_url: item.image_url,
  favorited_at: item.created_at
}));
```

### 3. –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
–î–æ–±–∞–≤–ª–µ–Ω—ã –ª–æ–≥–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–≤–∞—Ä–∞—Ö:

```typescript
console.log(`üì¶ Product ${product?.id}: stock_quantity = ${product?.stock_quantity}, name = ${product?.name}`);
```

## –†–µ–∑—É–ª—å—Ç–∞—Ç
‚úÖ –¢–æ–≤–∞—Ä—ã –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–º —Ç–µ–ø–µ—Ä—å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —Ä–µ–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –Ω–∞–ª–∏—á–∏—è  
‚úÖ –ö–Ω–æ–ø–∫–∏ "–í –∫–æ—Ä–∑–∏–Ω—É" –ø–æ—è–≤–ª—è—é—Ç—Å—è –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ –≤ –Ω–∞–ª–∏—á–∏–∏  
‚úÖ –ö–Ω–æ–ø–∫–∏ "–£–≤–µ–¥–æ–º–∏—Ç—å –æ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏" –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ –¥–ª—è —Ç–æ–≤–∞—Ä–æ–≤ –±–µ–∑ –Ω–∞–ª–∏—á–∏—è

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
1. –î–æ–±–∞–≤—å—Ç–µ —Ç–æ–≤–∞—Ä –≤ –Ω–∞–ª–∏—á–∏–∏ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ —Ä–∞–∑–¥–µ–ª "–ò–∑–±—Ä–∞–Ω–Ω–æ–µ"
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–≤–∞—Ä –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Ü–µ–Ω—É –∏ –∫–Ω–æ–ø–∫—É "–í –∫–æ—Ä–∑–∏–Ω—É"
4. –î–ª—è —Ç–æ–≤–∞—Ä–æ–≤ –±–µ–∑ –Ω–∞–ª–∏—á–∏—è –¥–æ–ª–∂–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å—Å—è –∫–Ω–æ–ø–∫–∞ "–£–≤–µ–¥–æ–º–∏—Ç—å –æ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏"

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- `src/app/api/webapp/favorites/route.ts` - API –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
- `src/app/webapp/favorites/page.tsx` - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
- `src/app/webapp/_components/ProductGrid.tsx` - –°–µ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ (–µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è) 