# üìã –ú–∏–≥—Ä–∞—Ü–∏—è settings_bot ‚Üí settings: –ö—Ä–∞—Ç–∫–∏–π –æ—Ç—á–µ—Ç

## ‚úÖ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∑–∞–¥–∞—á–∏

### 1. –ú–∏–≥—Ä–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- –ü–µ—Ä–µ–Ω–µ—Å–µ–Ω—ã –≤—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ —Ç–∞–±–ª–∏—Ü—ã `settings_bot` –≤ `settings`
- –£–¥–∞–ª–µ–Ω–∞ –º–æ–¥–µ–ª—å `settings_bot` –∏–∑ Prisma —Å—Ö–µ–º—ã
- –í—ã–ø–æ–ª–Ω–µ–Ω–∞ SQL –º–∏–≥—Ä–∞—Ü–∏—è: `migrate-bot-settings-to-settings.sql`

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞
- –°–æ–∑–¥–∞–Ω –Ω–æ–≤—ã–π `SettingsService.ts` —Å Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- –£–¥–∞–ª–µ–Ω `TelegramTokenService.ts`
- –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö:
  - `ReportService.ts`
  - `AdminTelegramService.ts` 
  - `ClientTelegramService.ts`
  - `notification-executor.service.ts`
  - `delete/TelegramService.ts`

### 3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
- –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫: `check-bot-settings.ts`
- –°–æ–∑–¥–∞–Ω —Å–∫—Ä–∏–ø—Ç —É—Å—Ç–∞–Ω–æ–≤–∫–∏ webhook: `setup-test-webhook.ts`
- –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç –ø–æ–ª–Ω–æ–≥–æ workflow: `test-full-workflow.ts`
- –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª: –∑–∞–∫–∞–∑ ‚Üí –æ–ø–ª–∞—Ç–∞ ‚Üí –æ–±—Ä–∞–±–æ—Ç–∫–∞ ‚Üí –æ—Ç–ø—Ä–∞–≤–∫–∞

## ü§ñ –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

**Grammy —Å–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É:**
- ‚úÖ –í—Å–µ –±–æ—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ Webhook endpoint –∞–∫—Ç–∏–≤–µ–Ω  
- ‚úÖ –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–æ–ª–Ω—ã–π workflow –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–µ—Ä–≤–∏—Å—ã:**
- `SettingsService` - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞–º–∏ —Å Redis –∫—ç—à–µ–º
- `GrammyBotWorker` - –æ–±—Ä–∞–±–æ—Ç–∫–∞ Telegram —Å–æ–æ–±—â–µ–Ω–∏–π
- `ReportService` - —Å–∏—Å—Ç–µ–º–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π

**Endpoint –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
```
GET/POST https://strattera.ngrok.app/api/telegram/grammy-simple/webhook
```

**–ö–æ–º–∞–Ω–¥—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:**
```bash
npx tsx scripts/check-bot-settings.ts       # –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫
npx tsx scripts/setup-test-webhook.ts       # –£—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook
npx tsx scripts/test-full-workflow.ts       # –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```

---

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ú–∏–≥—Ä–∞—Ü–∏—è —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞. –°–∏—Å—Ç–µ–º–∞ –≥–æ—Ç–æ–≤–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É. 