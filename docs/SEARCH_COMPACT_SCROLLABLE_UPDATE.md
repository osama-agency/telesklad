# Компактное всплывающее окно поиска со скроллом

## Описание изменения

По запросу пользователя всплывающее окно поиска было сделано **компактнее** и добавлен **скролл** для удобной навигации по результатам.

## Основные изменения

### 1. Компактный размер окна

#### Высота dropdown:
- **Desktop**: `max-height: 60vh` (было без ограничений)
- **Mobile**: `max-height: 45vh` (еще компактнее на мобильных)

#### Ширина dropdown:
- **Mobile**: `max-width: 95vw` (компактная ширина)
- **Desktop**: `max-width: 500px` (компактнее на больших экранах)

#### Контейнер результатов:
- **Desktop**: `max-height: 55vh`
- **Mobile**: `max-height: 40vh`

### 2. Возвращенный скролл

```scss
.search-results-container {
  max-height: 45vh; /* Ограничиваем высоту */
  overflow-y: auto; /* Возвращаем скролл */
  overscroll-behavior: contain;
  
  /* Красивый кастомный скроллбар */
  &::-webkit-scrollbar {
    width: 4px;
  }
  
  &::-webkit-scrollbar-track {
    background: transparent;
  }
  
  &::-webkit-scrollbar-thumb {
    background: rgba(72, 201, 40, 0.2);
    border-radius: 2px;
  }
  
  &::-webkit-scrollbar-thumb:hover {
    background: rgba(72, 201, 40, 0.4);
  }
}
```

### 3. Оптимизированные размеры элементов

#### Компактные карточки товаров:
- **Padding**: уменьшен до `clamp(8px, 2vw, 10px)`
- **Gap**: сокращен до `clamp(6px, 1.5vw, 8px)`
- **Border-radius**: `clamp(8px, 2vw, 10px)`

#### Компактные изображения:
- **Desktop**: `50px × 50px` (было 80px)
- **Mobile**: `40px × 40px` (было 60px)

#### Компактная типографика:
- **Название товара**: `clamp(13px, 3.25vw, 14px)` (было 15px)
- **Цена**: `clamp(13px, 3.25vw, 14px)` (было 16px)
- **Категория**: `clamp(10px, 2.5vw, 11px)` (было 12px)

### 4. Sticky заголовок

```scss
.search-results-header {
  position: sticky;
  top: 0;
  background: white;
  z-index: 10;
}
```

Заголовок остается видимым при скролле результатов.

### 5. Адаптивный дизайн

#### Планшеты (768px+):
- Максимальная ширина dropdown: `500px`
- Одна колонка результатов для компактности
- Увеличенная высота: `60vh`

#### Мобильные устройства:
- Еще более компактные размеры
- Убраны hover эффекты на touch устройствах
- Оптимизирована производительность

## Преимущества

### ✅ Компактность
- Окно занимает меньше места на экране
- Лучше подходит для мобильных устройств
- Не закрывает весь интерфейс

### ✅ Удобный скролл
- Красивый кастомный скроллбар в зеленых тонах
- Плавная прокрутка результатов
- Sticky заголовок для навигации

### ✅ Производительность
- Ограниченная высота улучшает рендеринг
- `overscroll-behavior: contain` предотвращает bounce
- `will-change` для мобильных устройств

### ✅ Сохранена функциональность
- Все возможности поиска работают
- Haptic feedback на мобильных
- Зеленая цветовая схема

## Технические детали

### Файлы изменены:
- `src/styles/algolia-modern-search-light.scss` - обновлен с компактными размерами и скроллом

### Ключевые CSS свойства:
- `max-height: 50vh` - ограничение высоты dropdown
- `overflow-y: auto` - включение вертикального скролла
- `position: sticky` - закрепленный заголовок
- Custom webkit scrollbar styling

### Responsive breakpoints:
- `@media (min-width: 768px)` - планшеты и десктопы
- `@media (max-width: 768px)` - мобильные устройства
- `@media (hover: none)` - touch устройства

## Использование

Все изменения применяются автоматически без дополнительной настройки:

1. Компактное окно отображается при поиске
2. Скролл появляется автоматически при большом количестве результатов
3. Заголовок остается видимым при прокрутке
4. Кастомный скроллбар в зеленых тонах

## Совместимость

- ✅ Safari (iOS/macOS)
- ✅ Chrome (Android/Desktop)
- ✅ Firefox
- ✅ Edge
- ✅ Telegram WebApp

Дата изменения: 2024-12-30
Автор: Claude AI Assistant
