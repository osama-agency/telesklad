# –ü–ª–∞–Ω –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–∞ Telegram Design System

## üéØ –¶–µ–ª—å
–ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ Telegram Design Guidelines –≤ header –∫–æ–º–ø–æ–Ω–µ–Ω—Ç NEXTADMIN –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ API –∏ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏.

## üìã –ü–æ—ç—Ç–∞–ø–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

### üîπ **–§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–í—ã–ø–æ–ª–Ω–µ–Ω–æ)**
‚úÖ –°–æ–∑–¥–∞–Ω `useTelegramDesignSystem` hook  
‚úÖ –°–æ–∑–¥–∞–Ω `TelegramHeader` –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å —Ñ–ª–∞–≥–æ–º —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏  
‚úÖ –°–æ–∑–¥–∞–Ω—ã —Å—Ç–∏–ª–∏ `telegram-design-system.scss`  
‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∞ –ø–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å  

### üîπ **–§–∞–∑–∞ 2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–¢–µ–∫—É—â–∞—è)**

#### 2.1 A/B Testing –ø–æ–¥—Ö–æ–¥
```typescript
// –í src/app/webapp/layout.tsx - –±–µ–∑–æ–ø–∞—Å–Ω–æ–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏–µ
import { Header } from '@/app/webapp/_components/Header'; // –°—Ç–∞—Ä—ã–π
import { TelegramHeader } from '@/app/webapp/_components/TelegramHeader'; // –ù–æ–≤—ã–π

// –§–ª–∞–≥ –¥–ª—è –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–æ–≥–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è (–º–æ–∂–Ω–æ —É–ø—Ä–∞–≤–ª—è—Ç—å —á–µ—Ä–µ–∑ env)
const ENABLE_TELEGRAM_DESIGN = process.env.NEXT_PUBLIC_ENABLE_TELEGRAM_DESIGN === 'true';

// –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –∑–∞–º–µ–Ω–∞
const HeaderComponent = ENABLE_TELEGRAM_DESIGN ? TelegramHeader : Header;

export default function Layout({ children }: { children: React.ReactNode }) {
  return (
    <div>
      <HeaderComponent enableDesignSystem={ENABLE_TELEGRAM_DESIGN} />
      {children}
    </div>
  );
}
```

#### 2.2 –≠—Ç–∞–ø—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
1. **–õ–æ–∫–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** - `ENABLE_TELEGRAM_DESIGN=true`
2. **Canary deployment** - 10% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
3. **Staged rollout** - 50% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  
4. **Full deployment** - 100% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  

### üîπ **–§–∞–∑–∞ 3: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**

#### 3.1 –ö–ª—é—á–µ–≤—ã–µ –º–µ—Ç—Ä–∏–∫–∏
- **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**: –í—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ header –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- **UX**: –ö–ª–∏–∫–∏ –ø–æ –∫–Ω–æ–ø–∫–∞–º –ò–∑–±—Ä–∞–Ω–Ω–æ–µ/–ü—Ä–æ—Ñ–∏–ª—å  
- **–û—à–∏–±–∫–∏**: JavaScript errors –≤ –∫–æ–Ω—Å–æ–ª–∏  
- **API**: –°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å –≤—ã–∑–æ–≤–æ–≤ `/api/webapp/favorites`, `/api/webapp/profile`

#### 3.2 Rollback –ø–ª–∞–Ω
```bash
# –ë—ã—Å—Ç—Ä—ã–π –æ—Ç–∫–∞—Ç –≤ —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º
NEXT_PUBLIC_ENABLE_TELEGRAM_DESIGN=false npm run build
```

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### ‚úÖ **–ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è (–ë–ï–ó –∏–∑–º–µ–Ω–µ–Ω–∏–π)**
- –í—Å–µ API endpoints: `/api/webapp/*`
- React –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã: `useFavorites`, `useTelegramAuth`  
- –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞: –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ, –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ –ø—Ä–æ—Ñ–∏–ª—é
- DOM —Å—Ç—Ä—É–∫—Ç—É—Ä–∞: –∫–ª–∞—Å—Å—ã `.webapp-header`, `.header-action-button`
- –ü–æ–≤–µ–¥–µ–Ω–∏–µ: —Å–∫—Ä—ã—Ç–∏–µ header –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∫–æ—Ä–∑–∏–Ω—ã

### üÜï **–ß—Ç–æ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è (–û–ü–¶–ò–û–ù–ê–õ–¨–ù–û)**
- Telegram Design Guidelines —Å—Ç–∏–ª–∏ (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ `enableDesignSystem=true`)
- Safe area insets –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –¥–ª—è —Å–ª–∞–±—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤  
- Improved accessibility (ARIA labels)
- 60fps smooth animations

### üéõÔ∏è **–£–ø—Ä–∞–≤–ª—è—é—â–∏–µ —Ñ–ª–∞–≥–∏**

#### Environment –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
```bash
# .env.local
NEXT_PUBLIC_ENABLE_TELEGRAM_DESIGN=false  # –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –≤—ã–∫–ª—é—á–µ–Ω–æ
```

#### Component props
```typescript
<TelegramHeader 
  enableDesignSystem={false}  // –ü–æ–ª–Ω–∞—è –æ–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å
  className="custom-header"   // –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏
/>
```

## üß™ –ü—Ä–æ—Ü–µ–¥—É—Ä–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è  

### 1. **–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
```bash
# –ó–∞–ø—É—Å–∫ —Å –Ω–æ–≤—ã–º –¥–∏–∑–∞–π–Ω–æ–º
NEXT_PUBLIC_ENABLE_TELEGRAM_DESIGN=true npm run dev

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å:
‚úÖ –ü–æ–∏—Å–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
‚úÖ –ö–Ω–æ–ø–∫–∞ –ò–∑–±—Ä–∞–Ω–Ω–æ–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π count  
‚úÖ –ö–Ω–æ–ø–∫–∞ –ü—Ä–æ—Ñ–∏–ª—å –≤–µ–¥–µ—Ç –Ω–∞ /webapp/profile
‚úÖ Header —Å–∫—Ä—ã–≤–∞–µ—Ç—Å—è –Ω–∞ /webapp/cart
‚úÖ Haptic feedback —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö
```

### 2. **–ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
```bash
# Chrome DevTools > Performance
‚úÖ Header —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è < 16ms (60fps)
‚úÖ Scroll events –Ω–µ –±–ª–æ–∫–∏—Ä—É—é—Ç UI
‚úÖ Memory usage —Å—Ç–∞–±–∏–ª—å–Ω–∞—è  
```

### 3. **Cross-browser —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
```bash
‚úÖ Chrome/Safari –Ω–∞ iOS (Telegram WebApp)
‚úÖ Chrome –Ω–∞ Android (Telegram WebApp)  
‚úÖ Desktop fallback —Ä–∞–±–æ—Ç–∞–µ—Ç
```

## üöÄ Timeline –º–∏–≥—Ä–∞—Ü–∏–∏

| –≠—Ç–∞–ø | –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å | –ó–∞–¥–∞—á–∏ |
|------|-------------|--------|
| **–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞** | 1 –¥–µ–Ω—å | ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –∏ —Å—Ç–∏–ª–µ–π |
| **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** | 2 –¥–Ω—è | –õ–æ–∫–∞–ª—å–Ω–æ–µ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ |
| **Canary** | 3 –¥–Ω—è | 10% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º |
| **Staged** | 5 –¥–Ω–µ–π | 50% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |  
| **Full** | 1 –¥–µ–Ω—å | 100% –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π |
| **Cleanup** | 1 –¥–µ–Ω—å | –£–¥–∞–ª–µ–Ω–∏–µ deprecated –∫–æ–¥–∞ |

## üî• –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–æ—á–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

### ‚ùå **–ù–ï –¢–†–û–ì–ê–¢–¨**
- API —Ä–æ—É—Ç—ã –≤ `/src/app/api/webapp/*`
- Context –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã `FavoritesContext`, `TelegramAuthContext`
- Business logic –≤ `useFavorites`, `useTelegramAuth`
- Database queries –∏ Redis –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ

### ‚úÖ **–ë–ï–ó–û–ü–ê–°–ù–û –ú–ï–ù–Ø–¢–¨**  
- CSS —Å—Ç–∏–ª–∏ (—Å fallback –Ω–∞ —Å—Ç–∞—Ä—ã–µ)
- UI –∞–Ω–∏–º–∞—Ü–∏–∏ –∏ transitions
- Performance –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏  
- Accessibility —É–ª—É—á—à–µ–Ω–∏—è

## üìä Success criteria

### ‚úÖ **–û–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ**
- –ù–µ—Ç –ø–∞–¥–µ–Ω–∏—è –≤ performance metrics  
- API error rate < 0.1%
- –í—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- User workflow –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è

### üéØ **–ñ–µ–ª–∞—Ç–µ–ª—å–Ω—ã–µ** 
- –£–ª—É—á—à–µ–Ω–∏–µ UX metrics –Ω–∞ 10%+
- –°–Ω–∏–∂–µ–Ω–∏–µ bounce rate –Ω–∞ header –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è—Ö
- Positive feedback –æ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π  

## üÜò Emergency contacts

- **Frontend Lead**: –ü—Ä–æ–±–ª–µ–º—ã —Å UI/UX
- **Backend Lead**: API/Database issues  
- **DevOps**: Deployment –ø—Ä–æ–±–ª–µ–º—ã
- **Product**: User experience feedback

---

**–í–∞–∂–Ω–æ**: –≠—Ç–æ—Ç –ø–ª–∞–Ω –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –Ω—É–ª–µ–≤–æ–π downtime –∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ –æ—Ç–∫–∞—Ç–∞ –≤ —Å–ª—É—á–∞–µ –ø—Ä–æ–±–ª–µ–º. 