# üìä –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è node-telegram-bot-api –≤ –ø—Ä–æ–µ–∫—Ç–µ NEXTADMIN

## üîç –û–±–∑–æ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### 1. TelegramBotWorker.ts (–æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª - 1276 —Å—Ç—Ä–æ–∫)

**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–µ—Ç–æ–¥—ã API:**
- `new TelegramBot(token, { polling: false })` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- `bot.setWebHook(url, options)` - —É—Å—Ç–∞–Ω–æ–≤–∫–∞ webhook
- `bot.getWebHookInfo()` - –ø–æ–ª—É—á–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ webhook
- `bot.deleteWebHook()` - —É–¥–∞–ª–µ–Ω–∏–µ webhook
- `bot.sendMessage(chatId, text, options)` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π
- `bot.deleteMessage(chatId, messageId)` - —É–¥–∞–ª–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- `bot.answerCallbackQuery(callbackQueryId, options)` - –æ—Ç–≤–µ—Ç –Ω–∞ callback
- `bot.editMessageText(text, options)` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- `bot.sendVideo(chatId, videoId)` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤–∏–¥–µ–æ
- `bot.sendPhoto(chatId, photoId)` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ç–æ

**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Ç–∏–ø—ã:**
- `TelegramBot.CallbackQuery` - —Ç–∏–ø –¥–ª—è callback –∑–∞–ø—Ä–æ—Å–æ–≤
- `TelegramBot.Message` - —Ç–∏–ø –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π
- `TelegramBot.InlineKeyboardMarkup` - —Ç–∏–ø –¥–ª—è –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã
- `TelegramBot.InlineKeyboardButton` - —Ç–∏–ø –¥–ª—è –∫–Ω–æ–ø–æ–∫

**–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**
- –û–±—Ä–∞–±–æ—Ç–∫–∞ webhook –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –∫–æ–º–∞–Ω–¥ (/start, /admin, /test)
- –û–±—Ä–∞–±–æ—Ç–∫–∞ callback –∫–Ω–æ–ø–æ–∫ (i_paid, approve_payment, submit_tracking)
- –†–∞–±–æ—Ç–∞ —Å —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ —á–µ—Ä–µ–∑ Redis
- –û—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ ReportService

### 2. SupportTelegramBotService.ts (–ø—Ä–æ—Å—Ç–æ–π —Ñ–∞–π–ª - 28 —Å—Ç—Ä–æ–∫)

**–ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–µ—Ç–æ–¥—ã API:**
- `new TelegramBot(token, { polling: false })` - –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
- `bot.sendMessage(chatId, text)` - –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

**–§—É–Ω–∫—Ü–∏–∏:**
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –∫—É—Ä—å–µ—Ä—É
- –û—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –≤ –≥—Ä—É–ø–ø—É –∑–∞–∫—É–ø—â–∏–∫–æ–≤

## üìã –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –º–µ—Ç–æ–¥–æ–≤

### –ú–µ—Ç–æ–¥—ã –æ—Ç–ø—Ä–∞–≤–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π:
1. `sendMessage` - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
2. `editMessageText` - —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è callback
3. `sendVideo` - –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤–∏–¥–µ–æ
4. `sendPhoto` - –æ—Ç–≤–µ—Ç –Ω–∞ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ —Ñ–æ—Ç–æ

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:
1. `processWebhookUpdate` - –æ—Å–Ω–æ–≤–Ω–æ–π –º–µ—Ç–æ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–∏
2. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ `message` –∏ `callback_query`
3. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ Redis –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π

### –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã –∏ –∫–Ω–æ–ø–∫–∏:
1. Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã –¥–ª—è –∑–∞–∫–∞–∑–æ–≤
2. Callback –∫–Ω–æ–ø–∫–∏ –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π
3. URL –∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤–Ω–µ—à–Ω–∏—Ö —Å—Å—ã–ª–æ–∫

## üö® –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

1. **–¢–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö** - –Ω—É–∂–Ω–æ –±—É–¥–µ—Ç –∑–∞–º–µ–Ω–∏—Ç—å –≤—Å–µ —Ç–∏–ø—ã TelegramBot.*
2. **Webhook –æ–±—Ä–∞–±–æ—Ç–∫–∞** - –≥–ª–∞–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
3. **Redis –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** - —Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–π –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏
4. **ReportService** - –æ—Ç–ø—Ä–∞–≤–∫–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
5. **Prisma** - —Ä–∞–±–æ—Ç–∞ —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö

## ‚úÖ –í—ã–≤–æ–¥

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –±–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ Telegram Bot API:
- Webhook —Ä–µ–∂–∏–º (–±–µ–∑ polling)
- –û—Ç–ø—Ä–∞–≤–∫–∞/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏–π
- –û–±—Ä–∞–±–æ—Ç–∫–∞ callback –∫–Ω–æ–ø–æ–∫
- Inline –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã

–ú–∏–≥—Ä–∞—Ü–∏—è –≤–æ–∑–º–æ–∂–Ω–∞ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏, —Ç–∞–∫ –∫–∞–∫ grammY –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤—Å–µ —ç—Ç–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏.
