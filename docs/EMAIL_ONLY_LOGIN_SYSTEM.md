# Система входа с полем пароля

## Обзор
Система входа в NEXTADMIN требует ввод email и пароля администратора для аутентификации.

## Данные для входа
- **Email администратора:** `go@osama.agency`  
- **Пароль:** `admin123`
- **Роль:** ADMIN

## Функции формы входа

### 1. Поля ввода
- **Email** - обязательное поле для ввода email администратора
- **Пароль** - обязательное поле с возможностью показа/скрытия
- Кнопка показа/скрытия пароля (иконки глаз)

### 2. Функция "Запомнить меня"
- Сохраняет email и пароль в localStorage
- Автоматически заполняет поля при следующем посещении
- Очищает данные если функция отключена

### 3. Безопасность
- Проверка учётных данных через NextAuth
- Валидация email и пароля на сервере
- Хэширование пароля в базе данных
- Показ ошибок при неверных данных

### 4. UX/UI особенности
- Анимированный интерфейс
- Градиентный фон с декоративными элементами
- Подсказка с данными для входа
- Ссылка "Забыли пароль?"
- Кнопка загрузки во время аутентификации

## Техническая реализация

### Файлы
- `src/app/(auth)/login/page.tsx` - основная форма входа
- `src/libs/auth.ts` - NextAuth конфигурация
- База данных PostgreSQL с таблицей `telesklad_users`

### Состояние формы
```typescript
const [email, setEmail] = useState("");
const [password, setPassword] = useState("");  
const [showPassword, setShowPassword] = useState(false);
const [rememberMe, setRememberMe] = useState(false);
```

### Процесс аутентификации
1. Пользователь вводит email и пароль
2. Форма отправляет данные через `signIn("credentials")`
3. NextAuth проверяет данные в базе PostgreSQL
4. При успехе создается сессия и пользователь перенаправляется

## Хранение данных
При включенной опции "Запомнить меня":
- `localStorage.setItem('loginEmail', email)`
- `localStorage.setItem('loginPassword', password)`
- `localStorage.setItem('rememberLogin', 'true')`

## Исправленные проблемы
- ✅ Критическая ошибка с `prisma.telesklad_user` → `prisma.telesklad_users`
- ✅ Добавлено логирование NextAuth для отладки
- ✅ Восстановлено поле ввода пароля для безопасности
- ✅ Функция показа/скрытия пароля с иконками

## Создано
**Дата:** 25.06.2025  
**Автор:** AI Assistant  
**Статус:** Активно и протестировано 