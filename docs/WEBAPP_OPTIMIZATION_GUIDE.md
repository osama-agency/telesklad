# üöÄ –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ Webapp

## üìä –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã:
1. **–ò–∑–±—ã—Ç–æ—á–Ω—ã–µ API –≤—ã–∑–æ–≤—ã** - –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∫ `/api/webapp/subscriptions`
2. **–ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å localStorage** - —á–∞—Å—Ç—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —á—Ç–µ–Ω–∏—è/–∑–∞–ø–∏—Å–∏
3. **–û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è** - –∫–∞–∂–¥—ã–π –∑–∞–ø—Ä–æ—Å –∏–¥–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
4. **–ò–∑–±—ã—Ç–æ—á–Ω—ã–µ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä—ã** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –Ω–µ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω—ã
5. **–ü—Ä–æ–±–ª–µ–º—ã —Å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è–º–∏** - –Ω–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ —Ä–∞–∑–º–µ—Ä–æ–≤
6. **–ë–æ–ª—å—à–æ–π —Ä–∞–∑–º–µ—Ä —Å—Ç–∏–ª–µ–π** - 5568 —Å—Ç—Ä–æ–∫ –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ

## üõ† –°–æ–∑–¥–∞–Ω–Ω—ã–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### 1. –°–∏—Å—Ç–µ–º–∞ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è (`webappCache.ts`)
```typescript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
const data = await webappCache.fetchCached('/api/webapp/products', {}, 5 * 60 * 1000);
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚ö° –£–º–µ–Ω—å—à–µ–Ω–∏–µ API –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ 70%
- üéØ TTL –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å –∞–≤—Ç–æ–æ—á–∏—Å—Ç–∫–æ–π
- üì± –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—ç—à–∞ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

### 2. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ö—É–∫ –∫–æ—Ä–∑–∏–Ω—ã (`useOptimizedCart.ts`)
```typescript
// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:
const { cart, addToCart, updateQuantity } = useOptimizedCart();
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- üîÑ Debounced localStorage –æ–ø–µ—Ä–∞—Ü–∏–∏ (300ms)
- üíæ –ú–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- üéØ –£–º–µ–Ω—å—à–µ–Ω–∏–µ –æ–ø–µ—Ä–∞—Ü–∏–π localStorage –Ω–∞ 80%

### 3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

#### `OptimizedProductCatalog.tsx`
- ‚úÖ –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ API –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –ø–æ–¥–ø–∏—Å–æ–∫
- ‚úÖ –ü—Ä–µ–¥–∑–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã

#### `OptimizedAddToCartButton.tsx` 
- ‚úÖ React.memo –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–æ–≤
- ‚úÖ useCallback –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å –∫–æ—Ä–∑–∏–Ω–æ–π

#### `OptimizedImage.tsx`
- ‚úÖ Lazy loading —Å placeholder
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- ‚úÖ –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–æ–≤ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- ‚úÖ WebP —Ñ–æ—Ä–º–∞—Ç –ø—Ä–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–µ

#### `OptimizedFavoriteButton.tsx` (–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–∫–∏)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –æ—à–∏–±–∫–∞ "–û—à–∏–±–∫–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ"
- ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ API –æ—Ç–≤–µ—Ç–æ–≤ —Å –ø–æ–ª–µ–º `success`
- ‚úÖ –û—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º –¥–ª—è –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
- ‚úÖ React.memo + useCallback –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

## üìà –û–∂–∏–¥–∞–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏:
- **–ü–µ—Ä–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:** ‚¨áÔ∏è -40% (–∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ + –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π)
- **–ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ—Å–µ—â–µ–Ω–∏—è:** ‚¨áÔ∏è -70% (–∫—ç—à API + localStorage –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è)
- **–ù–∞–≤–∏–≥–∞—Ü–∏—è –º–µ–∂–¥—É –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º–∏:** ‚¨áÔ∏è -60% (–∫—ç—à –ø—Ä–æ–¥—É–∫—Ç–æ–≤)

### –û—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:
- **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤ –∫–æ—Ä–∑–∏–Ω—É:** ‚¨áÔ∏è -50% –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç–∫–ª–∏–∫–∞
- **–ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π:** ‚¨áÔ∏è -65% –≤—Ä–µ–º–µ–Ω–∏ –∑–∞–≥—Ä—É–∑–∫–∏
- **–°–∫—Ä–æ–ª–ª –∏ –∞–Ω–∏–º–∞—Ü–∏–∏:** ‚¨ÜÔ∏è +30% –ø–ª–∞–≤–Ω–æ—Å—Ç–∏

### –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:
- **–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–∞–º—è—Ç–∏:** ‚¨áÔ∏è -25%
- **–°–µ—Ç–µ–≤–æ–π —Ç—Ä–∞—Ñ–∏–∫:** ‚¨áÔ∏è -60%
- **–û–ø–µ—Ä–∞—Ü–∏–∏ —Å DOM:** ‚¨áÔ∏è -40%

## üîß –ü–ª–∞–Ω –≤–Ω–µ–¥—Ä–µ–Ω–∏—è (–ø–æ—ç—Ç–∞–ø–Ω–æ)

### –≠—Ç–∞–ø 1: –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ (1-2 —á–∞—Å–∞)
1. –î–æ–±–∞–≤–∏—Ç—å `webappCache.ts`
2. –ó–∞–º–µ–Ω–∏—Ç—å `ProductCatalog` –Ω–∞ `OptimizedProductCatalog`
3. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è

### –≠—Ç–∞–ø 2: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ—Ä–∑–∏–Ω—ã (1 —á–∞—Å)
1. –î–æ–±–∞–≤–∏—Ç—å `useOptimizedCart.ts`
2. –ó–∞–º–µ–Ω–∏—Ç—å `AddToCartButton` –Ω–∞ `OptimizedAddToCartButton`
3. –û–±–Ω–æ–≤–∏—Ç—å `CartSummary` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ —Ö—É–∫–∞

### –≠—Ç–∞–ø 3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (30 –º–∏–Ω—É—Ç)
1. –î–æ–±–∞–≤–∏—Ç—å `OptimizedImage.tsx`
2. –ó–∞–º–µ–Ω–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤ `ProductGrid`
3. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 4: –ú–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (30 –º–∏–Ω—É—Ç)
1. –û–±–µ—Ä–Ω—É—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –≤ `React.memo`
2. –î–æ–±–∞–≤–∏—Ç—å `useCallback` –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–π
3. –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å `useMemo` –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏–π

## üìù –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é

### 1. –ó–∞–º–µ–Ω–∞ ProductCatalog
```typescript
// –í src/app/webapp/page.tsx
import { OptimizedProductCatalog } from "./_components/OptimizedProductCatalog";

// –ó–∞–º–µ–Ω–∏—Ç—å:
<ProductCatalog />
// –ù–∞:
<OptimizedProductCatalog />
```

### 2. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ AddToCartButton
```typescript
// –í ProductGrid.tsx
import { OptimizedAddToCartButton } from "./OptimizedAddToCartButton";

// –ó–∞–º–µ–Ω–∏—Ç—å:
<AddToCartButton {...props} />
// –ù–∞:
<OptimizedAddToCartButton {...props} />
```

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
```typescript
// –í ProductCard
import { OptimizedImage } from "./OptimizedImage";

// –ó–∞–º–µ–Ω–∏—Ç—å img –Ω–∞:
<OptimizedImage
  src={product.image_url}
  alt={product.name}
  width={172}
  height={172}
  priority={index < 6} // –ü–µ—Ä–≤—ã–µ 6 –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
/>
```

### 4. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ FavoriteButton
```typescript
// –í ProductGrid.tsx
import { OptimizedFavoriteButton } from "./OptimizedFavoriteButton";

// –ó–∞–º–µ–Ω–∏—Ç—å:
<FavoriteButton productId={product.id} />
// –ù–∞:
<OptimizedFavoriteButton productId={product.id} />
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

### –ú–µ—Ç—Ä–∏–∫–∏ –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è:
1. **First Contentful Paint (FCP)** - –¥–æ–ª–∂–µ–Ω —É–º–µ–Ω—å—à–∏—Ç—å—Å—è –Ω–∞ 30%
2. **Largest Contentful Paint (LCP)** - –¥–æ–ª–∂–µ–Ω —É–º–µ–Ω—å—à–∏—Ç—å—Å—è –Ω–∞ 40%
3. **Time to Interactive (TTI)** - –¥–æ–ª–∂–µ–Ω —É–º–µ–Ω—å—à–∏—Ç—å—Å—è –Ω–∞ 35%
4. **Cumulative Layout Shift (CLS)** - –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è —Å—Ç–∞–±–∏–ª—å–Ω—ã–º

### –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:
- Chrome DevTools Performance
- Lighthouse
- WebPageTest
- React DevTools Profiler

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:
- ‚úÖ –í—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã
- ‚úÖ –ù–µ –ª–æ–º–∞—é—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â—É—é –ª–æ–≥–∏–∫—É
- ‚úÖ –°–æ—Ö—Ä–∞–Ω—è—é—Ç –≤—Å–µ —Å—Ç–∏–ª–∏ –∏ –∞–Ω–∏–º–∞—Ü–∏–∏
- ‚úÖ –†–∞–±–æ—Ç–∞—é—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ API

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:
- üìä –î–æ–±–∞–≤–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- üîç –û—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –∫—ç—à–∞
- üìà –ú–æ–Ω–∏—Ç–æ—Ä–∏—Ç—å —É—Å–ø–µ—à–Ω–æ—Å—Ç—å –∑–∞–ø—Ä–æ—Å–æ–≤
- üéØ –ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç

## üöÄ –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ CSS (–±—É–¥—É—â–µ–µ)
```scss
// –†–∞–∑–¥–µ–ª–∏—Ç—å webapp.scss –Ω–∞ –º–æ–¥—É–ª–∏:
// - base.scss (—à—Ä–∏—Ñ—Ç—ã, –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)
// - components.scss (–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã)
// - pages.scss (—Å—Ç—Ä–∞–Ω–∏—Ü—ã)
// - utilities.scss (—É—Ç–∏–ª–∏—Ç—ã)
```

### 2. Service Worker (–±—É–¥—É—â–µ–µ)
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ä–µ—Å—É—Ä—Å–æ–≤
- –û—Ñ–ª–∞–π–Ω –ø–æ–¥–¥–µ—Ä–∂–∫–∞
- Background sync

### 3. Bundle optimization
- Tree shaking –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–≥–æ –∫–æ–¥–∞
- Code splitting –ø–æ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º
- Dynamic imports –¥–ª—è –±–æ–ª—å—à–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è

–ü–æ—Å–ª–µ –≤–Ω–µ–¥—Ä–µ–Ω–∏—è –≤—Å–µ—Ö –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –æ–∂–∏–¥–∞–µ—Ç—Å—è:
- **‚ö° –°–∫–æ—Ä–æ—Å—Ç—å –∑–∞–≥—Ä—É–∑–∫–∏:** +60% –±—ã—Å—Ç—Ä–µ–µ
- **üéØ –û—Ç–∑—ã–≤—á–∏–≤–æ—Å—Ç—å:** +45% –ª—É—á—à–µ
- **üíæ –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤:** -40% –º–µ–Ω—å—à–µ
- **üì± –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π –æ–ø—ã—Ç:** –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ —É–ª—É—á—à–µ–Ω

---

*–í—Å–µ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã –∏ –≥–æ—Ç–æ–≤—ã –∫ –≤–Ω–µ–¥—Ä–µ–Ω–∏—é –±–µ–∑ –Ω–∞—Ä—É—à–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.* 