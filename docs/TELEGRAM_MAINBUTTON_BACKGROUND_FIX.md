# ะัะฟัะฐะฒะปะตะฝะธะต ัะตะผะฝะพะณะพ ัะพะฝะฐ ะฟะพะด MainButton ะฒ Telegram WebApp

## ๐ฏ ะัะพะฑะปะตะผะฐ

ะ Telegram WebApp ะบะฝะพะฟะบะฐ MainButton ะพัะพะฑัะฐะถะฐะตััั ั ะฟัะฐะฒะธะปัะฝัะผะธ ัะฒะตัะฐะผะธ (ะทะตะปะตะฝัะน ัะพะฝ #48C928 ั ะฑะตะปัะผ ัะตะบััะพะผ), ะฝะพ **ะพะฑะปะฐััั ะฟะพะด ะบะฝะพะฟะบะพะน ะพััะฐะตััั ัะตะผะฝะพะน**, ะดะฐะถะต ะบะพะณะดะฐ ะฟัะธะปะพะถะตะฝะธะต ะฟัะธะฝัะดะธัะตะปัะฝะพ ะธัะฟะพะปัะทัะตั ัะฒะตัะปัั ัะตะผั.

## ๐ ะะปัะฑะธะฝะฝะฐั ะฟัะธัะธะฝะฐ

**MainButton - ััะพ ะะ HTML ัะปะตะผะตะฝั!** ะญัะพ ะฝะฐัะธะฒะฝัะน ัะปะตะผะตะฝั Telegram, ะบะพัะพััะน ะพัะพะฑัะฐะถะฐะตััั ะฒ ะพัะดะตะปัะฝะพะผ ัะปะพะต "bottom bar" ะฟะพะฒะตัั WebView:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ          WebView Content        โ โ ะะพะฝััะพะปะธััะตััั CSS ะธ setBackgroundColor()
โ                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ         MainButton          โโ โ ะะฐัะธะฒะฝัะน ัะปะตะผะตะฝั Telegram
โ  โ      (ะทะตะปะตะฝะฐั ะบะฝะพะฟะบะฐ)       โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โ       Bottom Bar Area       โโ โ ะะะะขะะงะะ: ะะพะฝััะพะปะธััะตััั setBottomBarColor()
โ  โ      (ัะตะผะฝะฐั ะพะฑะปะฐััั)       โโ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะะพัะตะผั ะพะฑััะฝัะต ะผะตัะพะดั ะะ ัะฐะฑะพัะฐัั:

1. **CSS ััะธะปะธ** - ะฝะต ะฒะปะธััั ะฝะฐ ะฝะฐัะธะฒะฝัะต ัะปะตะผะตะฝัั Telegram
2. **setBackgroundColor()** - ะผะตะฝัะตั ัะพะปัะบะพ ัะพะฝ WebView, ะฝะพ ะะ bottom bar
3. **themeParams.bg_color** - ะธัะฟะพะปัะทัะตััั ะดะปั WebView, ะฝะพ ะธะณะฝะพัะธััะตััั ะดะปั bottom bar
4. **::after pseudo-elements** - ะฝะต ัะฐะฑะพัะฐัั ั ะฝะฐัะธะฒะฝัะผะธ ัะปะตะผะตะฝัะฐะผะธ

### ะงัะพ ะฟัะพะธััะพะดะธะปะพ ะฒ ะบะพะดะต:

1. `TelegramCheckoutButton` ะฒัะทัะฒะฐะป `setLightTheme()`
2. `setLightTheme()` ัััะฐะฝะฐะฒะปะธะฒะฐะป `setBackgroundColor('#FFFFFF')` ะดะปั WebView
3. ะกััะฐะฝะธัะฐ ะบะพัะทะธะฝั ะะะะะะะะะะะะฏะะ ัะฒะตัะฐ, ะฒัะทัะฒะฐั `setBackgroundColor('#FFFFFF')` ัะฝะพะฒะฐ
4. ะะ ะฝะธะณะดะต ะฝะต ะฒัะทัะฒะฐะปัั `setBottomBarColor()` ะดะปั ะพะฑะปะฐััะธ ะฟะพะด MainButton!

## ะะตัะตะฝะธะต

ะัะฟะพะปัะทะพะฒะฐะฝ ะฝะพะฒัะน ะผะตัะพะด `setBottomBarColor()`, ะดะพะฑะฐะฒะปะตะฝะฝัะน ะฒ Bot API 7.10+, ะบะพัะพััะน ัะฟะตัะธะฐะปัะฝะพ ะฟัะตะดะฝะฐะทะฝะฐัะตะฝ ะดะปั ะบะพะฝััะพะปั ัะฒะตัะฐ ะพะฑะปะฐััะธ ะฟะพะด MainButton.

### ะะทะผะตะฝะตะฝะธั ะฒ ะบะพะดะต

#### 1. ะะฑะฝะพะฒะปะตะฝั ัะธะฟั TypeScript

ะะพะฑะฐะฒะปะตะฝ ะฝะพะฒัะน ะผะตัะพะด ะธ ะฟะพะปะต ัะตะผั ะฒ `src/types/telegram-webapp.d.ts`:

```typescript
interface TelegramWebAppThemeParams {
  // ... ัััะตััะฒัััะธะต ะฟะพะปั
  bottom_bar_bg_color?: string; // Bot API 7.10+
}

interface TelegramWebApp {
  // ... ัััะตััะฒัััะธะต ะผะตัะพะดั
  setBottomBarColor?(color: string): void; // Bot API 7.10+
}
```

#### 2. ะะฑะฝะพะฒะปะตะฝ TelegramSDK

ะ `src/lib/telegram-sdk.ts` ะดะพะฑะฐะฒะปะตะฝ ะฒัะทะพะฒ ะฝะพะฒะพะณะพ ะผะตัะพะดะฐ:

```typescript
setLightTheme() {
  // ... ัััะตััะฒัััะธะน ะบะพะด
  
  // ะะะะขะะงะะกะะ ะะะะะ: ะฃััะฐะฝะฐะฒะปะธะฒะฐะตะผ ัะฒะตั ะฝะธะถะฝะตะน ะฟะฐะฝะตะปะธ (Bot API 7.10+)
  // ะญัะพ ะบะพะฝััะพะปะธััะตั ัะพะฝ ะพะฑะปะฐััะธ ะฟะพะด MainButton
  if (tg.setBottomBarColor) {
    tg.setBottomBarColor('#FFFFFF');
    console.log('โ ะฆะฒะตั ะฝะธะถะฝะตะน ะฟะฐะฝะตะปะธ ัััะฐะฝะพะฒะปะตะฝ ะฝะฐ ะฑะตะปัะน');
  } else {
    console.warn('โ๏ธ setBottomBarColor ะฝะต ะฟะพะดะดะตัะถะธะฒะฐะตััั ะฒ ััะพะน ะฒะตััะธะธ Telegram');
  }
  
  // ะะฑะฝะพะฒะปัะตะผ themeParams
  if (tg.themeParams) {
    tg.themeParams.bottom_bar_bg_color = '#FFFFFF';
  }
}
```

## ะะตะทัะปััะฐั

ะะพัะปะต ะฟัะธะผะตะฝะตะฝะธั ะธัะฟัะฐะฒะปะตะฝะธั:
- ะะฝะพะฟะบะฐ MainButton ะพััะฐะตััั ะทะตะปะตะฝะพะน (#48C928) ั ะฑะตะปัะผ ัะตะบััะพะผ
- ะะฑะปะฐััั ะฟะพะด ะบะฝะพะฟะบะพะน ััะฐะฝะพะฒะธััั ะฑะตะปะพะน ะฒะผะตััะพ ัะตะผะฝะพะน
- ะะตัั ะธะฝัะตััะตะนั ะธะผะตะตั ะตะดะธะฝะพะพะฑัะฐะทะฝัั ัะฒะตัะปัั ัะตะผั

## ะกะพะฒะผะตััะธะผะพััั

- **Bot API 7.10+**: ะะพะปะฝะฐั ะฟะพะดะดะตัะถะบะฐ `setBottomBarColor()`
- **ะะพะปะตะต ััะฐััะต ะฒะตััะธะธ**: ะะตัะพะด ะฝะตะดะพัััะฟะตะฝ, ะพัะพะฑัะฐะถะฐะตััั ะฟัะตะดัะฟัะตะถะดะตะฝะธะต ะฒ ะบะพะฝัะพะปะธ
- **ะะฑัะฐัะฝะฐั ัะพะฒะผะตััะธะผะพััั**: ะะฑะตัะฟะตัะตะฝะฐ ัะตัะตะท ะพะฟัะธะพะฝะฐะปัะฝัะน ะฒัะทะพะฒ ะผะตัะพะดะฐ

## ะขะตัะฝะธัะตัะบะฐั ะธะฝัะพัะผะฐัะธั

- **ะะตัะพะด**: `setBottomBarColor(color: string)`
- **ะะพะฑะฐะฒะปะตะฝ ะฒ**: Bot API 7.10 (ัะตะฝััะฑัั 2024)
- **ะขะธะฟ**: ะะฟัะธะพะฝะฐะปัะฝัะน ะผะตัะพะด (ะผะพะถะตั ะพััััััะฒะพะฒะฐัั ะฒ ััะฐััั ะฒะตััะธัั)
- **ะะฐัะฐะผะตััั ัะตะผั**: `bottom_bar_bg_color` ะฒ `themeParams`

## ะะพะฟะพะปะฝะธัะตะปัะฝัะต ัะตััััั

- [Telegram Mini Apps Documentation](https://docs.telegram-mini-apps.com/platform/theming)
- [Bot API 7.10 Changelog](https://core.telegram.org/bots/api#september-6-2024)
- [GitHub Issue #25765](https://github.com/telegramdesktop/tdesktop/issues/25765) - ะฟะพะดะดะตัะถะบะฐ ะผะตัะพะดะพะฒ ัะฒะตัะพะฒ ะฒ Telegram Desktop

## ะกัะฐััั

โ **ะะกะะะะะะะะ** - ะขะตะผะฝัะน ัะพะฝ ะฟะพะด MainButton ะทะฐะผะตะฝะตะฝ ะฝะฐ ัะฒะตัะปัะน ัะตัะตะท `setBottomBarColor()`. 