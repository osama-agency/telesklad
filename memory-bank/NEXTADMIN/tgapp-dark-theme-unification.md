# Унификация фонов в темной теме TgApp

## Дата: 2025-01-17

## Проблема
Фон на странице профиля в темной теме отличался от фонов на других страницах и в модальных окнах. Не было единообразия в отображении темной темы.

## Решение
Создана система унифицированных стилей для темной темы, где:

1. **Базовый градиентный фон** применяется ко всем страницам:
   ```css
   background: linear-gradient(135deg, #0d1117 0%, #161b22 50%, #21262d 100%);
   background-attachment: fixed;
   ```

2. **Модальные окна** используют такой же градиентный фон как страницы:
   ```css
   background: linear-gradient(135deg, #0d1117 0%, #161b22 50%, #21262d 100%);
   ```

3. **Карточки и блоки** используют вторичный цвет:
   ```css
   background: var(--tg-secondary-bg-color); /* #161b22 */
   ```

## Измененные файлы

### 1. src/app/tgapp/styles/telegram-ui-theme.css
Добавлены унифицированные стили для:
- Всех страниц (profile, favorites, cart, catalog)
- Модальных окон (sheet-content, modal-content)
- Компонентов подписок
- FAQ и контактов
- Скелетонов загрузки

### 2. src/app/tgapp/styles/tgapp.css
Обновлены стили компонентов:
- `.tgapp-profile` - `background: transparent`
- `.tgapp-profile-header` - белый фон для светлой темы
- `.tgapp-action-card` - белый фон для светлой темы
- `.tgapp-favorite-card` - белый фон для светлой темы
- `.tgapp-cart-item` - белый фон для светлой темы
- `.tgapp-cart-summary` - белый фон для светлой темы
- `.tgapp-order-card` - белый фон для светлой темы

Все компоненты в темной теме теперь имеют `background: transparent` и получают фон из унифицированных стилей.

## Принципы унификации

1. **Иерархия фонов**:
   - Основной контейнер: градиент
   - Модальные окна: такой же градиент как на страницах
   - Карточки: вторичный цвет (#161b22)

2. **Управление через CSS переменные**:
   ```css
   --tg-bg-color: #0d1117;
   --tg-secondary-bg-color: #161b22;
   ```

3. **Важные правила с !important** для переопределения:
   - Карточки и блоки всегда используют вторичный фон
   - Бонусный блок сохраняет зеленый градиент

## Результат
Теперь все страницы, компоненты и модальные окна в темной теме имеют единообразный внешний вид с согласованной цветовой схемой. 