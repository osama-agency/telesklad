/* Telegram UI - Custom Green Theme */
@import '@telegram-apps/telegram-ui/dist/styles.css';

/* Custom Green Theme Variables */
:root {
  /* Primary Green Colors */
  --tgui-color-primary: #22c55e;
  --tgui-color-primary-hover: #16a34a;
  --tgui-color-primary-active: #15803d;
  
  /* Accent Colors */
  --tgui-color-accent: #22c55e;
  --tgui-color-accent-hover: #16a34a;
  
  /* Button Colors */
  --tgui-color-button: #22c55e;
  --tgui-color-button-hover: #16a34a;
  --tgui-color-button-active: #15803d;
  
  /* Link Colors */
  --tgui-color-link: #22c55e;
  --tgui-color-link-hover: #16a34a;
  
  /* Success Colors */
  --tgui-color-success: #22c55e;
  --tgui-color-success-hover: #16a34a;
}

/* Dark Theme Overrides */
.tgui-dark {
  /* Keep the same green colors in dark theme */
  --tgui-color-primary: #22c55e;
  --tgui-color-primary-hover: #34d399;
  --tgui-color-primary-active: #16a34a;
  
  --tgui-color-accent: #22c55e;
  --tgui-color-accent-hover: #34d399;
  
  --tgui-color-button: #22c55e;
  --tgui-color-button-hover: #34d399;
  --tgui-color-button-active: #16a34a;
  
  --tgui-color-link: #22c55e;
  --tgui-color-link-hover: #34d399;
  
  --tgui-color-success: #22c55e;
  --tgui-color-success-hover: #34d399;
}

/* Custom Button Styles */
.tgui-button--primary {
  background-color: var(--tgui-color-primary);
  border-color: var(--tgui-color-primary);
}

.tgui-button--primary:hover {
  background-color: var(--tgui-color-primary-hover);
  border-color: var(--tgui-color-primary-hover);
}

.tgui-button--primary:active {
  background-color: var(--tgui-color-primary-active);
  border-color: var(--tgui-color-primary-active);
}

/* Custom Switch Styles */
.tgui-switch--checked {
  background-color: var(--tgui-color-primary);
}

.tgui-switch--checked:hover {
  background-color: var(--tgui-color-primary-hover);
}

/* Custom Progress Styles */
.tgui-progress__fill {
  background-color: var(--tgui-color-primary);
}

/* Custom Badge Styles */
.tgui-badge--primary {
  background-color: var(--tgui-color-primary);
  color: white;
}

/* Custom Link Styles */
.tgui-link {
  color: var(--tgui-color-link);
}

.tgui-link:hover {
  color: var(--tgui-color-link-hover);
}

/* Ensure green theme works with TgApp layout */
.tgapp-container .tgui-root {
  height: 100%;
  background: transparent;
}

/* Override any conflicting styles */
.tgui-root {
  font-family: 'Inter', -apple-system, system-ui, sans-serif;
}

/* Force hide scrollbars in Telegram WebApp */
#__next,
#__next > *,
.tg-theme-container,
.tg-theme-container * {
  scrollbar-width: none !important;
  -ms-overflow-style: none !important;
}

#__next::-webkit-scrollbar,
#__next > *::-webkit-scrollbar,
.tg-theme-container::-webkit-scrollbar,
.tg-theme-container *::-webkit-scrollbar {
  display: none !important;
  width: 0 !important;
  height: 0 !important;
}

/* Remove any unwanted margins/padding */
html, body {
  margin: 0 !important;
  padding: 0 !important;
  overflow-x: hidden !important;
}

/* Ensure container fills viewport without borders */
.tg-theme-container {
  overflow-y: auto !important;
  overflow-x: hidden !important;
  -webkit-overflow-scrolling: touch !important;
  min-height: 100vh !important;
  width: 100% !important;
}

/* CSS переменные для Sheet компонента в темной теме */
.tg-dark {
  --tg-background: linear-gradient(135deg, #0d1117 0%, #161b22 50%, #21262d 100%);
  --tg-surface: rgba(22, 27, 34, 0.8);
  --tg-border: rgba(48, 54, 61, 0.8);
  --tg-text: #f0f6fc;
  --tg-text-secondary: #7d8590;
  --tg-overlay-bg: rgba(0, 0, 0, 0.7);
}

/* Унифицированные стили для темной темы */
.tg-dark,
.tg-dark .tgapp-container,
.tg-dark .tgapp-profile,
.tg-dark .tgapp-favorites,
.tg-dark .tgapp-cart,
.tg-dark .tgapp-catalog,
.tg-dark .virtual-catalog-container,
.tg-dark .tgapp-page-container {
  /* Единый градиентный фон для всех страниц */
  background: linear-gradient(135deg, #0d1117 0%, #161b22 50%, #21262d 100%);
  background-attachment: fixed;
}

/* Модальные окна и листы в темной теме */
.tg-dark .sheet-content,
.tg-dark .modal-content,
.tg-dark .support-sheet,
.tg-dark .subscriptions-sheet .sheet-content {
  /* Такой же градиентный фон как на страницах */
  background: linear-gradient(135deg, #0d1117 0%, #161b22 50%, #21262d 100%) !important;
  color: var(--tg-text-color);
}

/* Заголовки модальных окон в темной теме */
.tg-dark .sheet-header,
.tg-dark .modal-header {
  background: transparent !important;
  border-bottom-color: var(--tg-border-color);
}

.tg-dark .sheet-title,
.tg-dark .modal-title {
  color: var(--tg-text-color);
}

/* Тело модального окна */
.tg-dark .sheet-body {
  background: transparent !important;
}

/* Кнопка закрытия в темной теме */
.tg-dark .sheet-close-button,
.tg-dark .modal-close-button,
.tg-dark .sheet-close-btn {
  color: var(--tg-hint-color);
  background: rgba(255, 255, 255, 0.1) !important;
}

.tg-dark .sheet-close-button:hover,
.tg-dark .modal-close-button:hover,
.tg-dark .sheet-close-btn:hover {
  background: rgba(255, 255, 255, 0.15) !important;
}

/* Табы в темной теме */
.tg-dark .support-tabs {
  border-bottom-color: var(--tg-border-color);
}

.tg-dark .support-tab {
  background: var(--tg-secondary-bg-color);
  color: var(--tg-hint-color);
}

.tg-dark .support-tab:hover {
  background: rgba(255, 255, 255, 0.1);
}

.tg-dark .support-tab.active {
  background: var(--tg-button-color);
  color: white;
}

/* FAQ элементы в темной теме */
.tg-dark .faq-item {
  background: var(--tg-secondary-bg-color);
  border: 1px solid var(--tg-border-color);
}

.tg-dark .faq-question {
  color: var(--tg-text-color);
}

.tg-dark .faq-question:hover {
  background: rgba(255, 255, 255, 0.05);
}

.tg-dark .faq-answer-content {
  color: var(--tg-hint-color);
}

/* Контактные карточки в темной теме */
.tg-dark .contact-card {
  background: var(--tg-secondary-bg-color);
  border: 1px solid var(--tg-border-color);
}

.tg-dark .contact-card h3 {
  color: var(--tg-text-color);
}

.tg-dark .info-item {
  background: var(--tg-secondary-bg-color);
  border: 1px solid var(--tg-border-color);
}

.tg-dark .info-label {
  color: var(--tg-hint-color);
}

.tg-dark .info-value {
  color: var(--tg-text-color);
}

/* Элементы подписок в темной теме */
.tg-dark .subscription-item {
  background: var(--tg-secondary-bg-color) !important;
  border-color: var(--tg-border-color) !important;
}

.tg-dark .product-name {
  color: var(--tg-text-color);
}

.tg-dark .product-price {
  color: var(--tg-button-color);
}

.tg-dark .product-availability,
.tg-dark .subscription-date {
  color: var(--tg-hint-color);
}

/* Кнопки в темной теме */
.tg-dark .unsubscribe-btn {
  background: rgba(255, 255, 255, 0.1);
  color: var(--tg-hint-color);
  border-color: var(--tg-border-color);
}

.tg-dark .unsubscribe-btn:hover {
  background: rgba(239, 68, 68, 0.2);
  color: #ef4444;
  border-color: rgba(239, 68, 68, 0.5);
}

/* Пустые состояния в темной теме */
.tg-dark .empty-state,
.tg-dark .subscriptions-empty {
  color: var(--tg-hint-color);
}

.tg-dark .empty-state-title {
  color: var(--tg-text-color);
}

.tg-dark .empty-state-subtitle {
  color: var(--tg-hint-color);
}

/* Скелетоны в темной теме */
.tg-dark .subscription-skeleton-item {
  background: var(--tg-secondary-bg-color);
  border: 1px solid var(--tg-border-color);
}

.tg-dark .skeleton-image,
.tg-dark .skeleton-title,
.tg-dark .skeleton-price,
.tg-dark .skeleton-availability,
.tg-dark .skeleton-date,
.tg-dark .skeleton-action {
  background: linear-gradient(90deg, #161b22 25%, #21262d 50%, #161b22 75%);
}

/* Ошибки в темной теме */
.tg-dark .error-banner {
  background: rgba(239, 68, 68, 0.1);
  color: #ef4444;
  border-color: rgba(239, 68, 68, 0.2);
}

.tg-dark .retry-btn {
  background: var(--tg-secondary-bg-color);
  color: var(--tg-text-color);
  border-color: var(--tg-border-color);
}

.tg-dark .retry-btn:hover {
  background: rgba(255, 255, 255, 0.1);
  border-color: var(--tg-border-hover);
}

/* Убираем фоны у вложенных элементов, чтобы не было конфликтов */
.tg-dark .tgapp-profile > *,
.tg-dark .tgapp-favorites > *,
.tg-dark .tgapp-cart > *,
.tg-dark .virtual-catalog-container > * {
  background: transparent;
}

/* Исключение: карточки и блоки должны иметь свой фон */
.tg-dark .tgapp-profile-header,
.tg-dark .tgapp-action-card,
.tg-dark .tgapp-favorite-card,
.tg-dark .tgapp-cart-item,
.tg-dark .tgapp-cart-summary,
.tg-dark .tg-badge,
.tg-dark .tg-button {
  background: var(--tg-secondary-bg-color) !important;
}

/* Бонусный блок остается с градиентом */
.tg-dark .tgapp-bonus-block {
  background: linear-gradient(135deg, #22c55e 0%, #16a34a 100%) !important;
}

/* Фиксим фон для backdrop модальных окон */
.tg-dark .sheet-backdrop,
.tg-dark .sheet-overlay {
  background: rgba(0, 0, 0, 0.7) !important;
} 