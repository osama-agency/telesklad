/* ===============================================
   üöÄ TELEGRAM MAINBUTTON CART SPACING OPTIMIZATION
   =============================================== */

/* 
   –ü—Ä–æ–±–ª–µ–º–∞: –í –∫–æ—Ä–∑–∏–Ω–µ –º–Ω–æ–≥–æ –ª–∏—à–Ω–µ–≥–æ –º–µ—Å—Ç–∞ –≤–Ω–∏–∑—É (120px+)
   –ü—Ä–∏—á–∏–Ω–∞: padding-bottom —Ä–∞—Å—Å—á–∏—Ç–∞–Ω –¥–ª—è –Ω–∏–∂–Ω–µ–≥–æ –º–µ–Ω—é webapp, 
           –Ω–æ —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Telegram MainButton
   
   –†–µ—à–µ–Ω–∏–µ: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã –¥–ª—è Telegram –æ–∫—Ä—É–∂–µ–Ω–∏—è
*/

/* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –∫–æ—Ä–∑–∏–Ω—ã —Å Telegram MainButton */
.webapp-container.cart-page {
  /* –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–π padding-bottom –¥–ª—è –Ω–∏–∂–Ω–µ–≥–æ –º–µ–Ω—é */
  padding-bottom: max(
    var(--space-16),           /* –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Ç—Å—Ç—É–ø 12-16px */
    env(safe-area-inset-bottom) /* –£—á–∏—Ç—ã–≤–∞–µ–º safe-area iPhone */
  ) !important;
  
  /* –í Telegram –æ–∫—Ä—É–∂–µ–Ω–∏–∏ –µ—â–µ –º–µ–Ω—å—à–µ –æ—Ç—Å—Ç—É–ø */
  .telegram-env & {
    padding-bottom: max(
      var(--space-12),         /* –°–æ–≤—Å–µ–º –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Ç—Å—Ç—É–ø 8-12px */
      env(safe-area-inset-bottom)
    ) !important;
  }
}

/* –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –±–ª–æ–∫–∞ –≤ –∫–æ—Ä–∑–∏–Ω–µ */
.cart-page .checkout-summary-card:last-of-type,
.cart-page .main-block:last-of-type {
  /* –£–º–µ–Ω—å—à–∞–µ–º –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –±–ª–æ–∫–∞ */
  margin-bottom: var(--space-12) !important; /* 8-12px –≤–º–µ—Å—Ç–æ 20px */
}

/* –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è cart-checkout-summary */
.cart-page .cart-checkout-summary {
  /* –£–±–∏—Ä–∞–µ–º –ª–∏—à–Ω–∏–π –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É */
  margin-bottom: var(--space-8) !important; /* 6-8px */
}

/* –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è Telegram WebApp */
@media (max-height: 600px) {
  /* –ù–∞ –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–∞—Ö –µ—â–µ –∫–æ–º–ø–∞–∫—Ç–Ω–µ–µ */
  .webapp-container.cart-page {
    padding-bottom: var(--space-8) !important;
  }
  
  .cart-page .main-block,
  .cart-page .checkout-summary-card {
    margin-bottom: var(--space-8) !important;
  }
}

/* –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ–º —á—Ç–æ –∫–æ–Ω—Ç–µ–Ω—Ç –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –≤–æ–∑–º–æ–∂–Ω—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã */
.cart-page .telegram-checkout-button-container {
  /* –†–µ–∑–µ—Ä–≤–∏—Ä—É–µ–º –º–µ—Å—Ç–æ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ */
  margin-top: var(--space-12);
}

/* –ü–ª–∞–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –æ—Ç—Å—Ç—É–ø–æ–≤ */
.webapp-container.cart-page,
.cart-page .main-block,
.cart-page .checkout-summary-card {
  transition: padding 0.3s ease, margin 0.3s ease;
}

/* ===============================================
   üì± RESPONSIVE OPTIMIZATIONS
   =============================================== */

/* iPhone SE –∏ –¥—Ä—É–≥–∏–µ –º–∞–ª–µ–Ω—å–∫–∏–µ —ç–∫—Ä–∞–Ω—ã */
@media (max-height: 568px) {
  .webapp-container.cart-page {
    padding-bottom: var(--space-4) !important;
  }
}

/* –°—Ä–µ–¥–Ω–∏–µ —ç–∫—Ä–∞–Ω—ã */
@media (min-height: 600px) and (max-height: 800px) {
  .webapp-container.cart-page {
    padding-bottom: var(--space-12) !important;
  }
}

/* –ë–æ–ª—å—à–∏–µ —ç–∫—Ä–∞–Ω—ã - –º–æ–∂–µ–º –ø–æ–∑–≤–æ–ª–∏—Ç—å —á—É—Ç—å –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞ */
@media (min-height: 800px) {
  .webapp-container.cart-page {
    padding-bottom: var(--space-16) !important;
  }
}

/* ===============================================
   üéØ FALLBACK FOR NON-TELEGRAM ENVIRONMENTS
   =============================================== */

/* –ï—Å–ª–∏ –ù–ï Telegram - –æ—Å—Ç–∞–≤–ª—è–µ–º –±–æ–ª—å—à–µ –º–µ—Å—Ç–∞ –¥–ª—è fallback –∫–Ω–æ–ø–∫–∏ */
.webapp-container.cart-page:not(.telegram-env) {
  padding-bottom: calc(
    var(--space-20) + env(safe-area-inset-bottom)
  ) !important;
}

/* ===============================================
   ‚ú® VISUAL IMPROVEMENTS
   =============================================== */

/* –ë–æ–ª–µ–µ –ø–ª–∞–≤–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –º–µ–∂–¥—É –±–ª–æ–∫–∞–º–∏ */
.cart-page .main-block + .main-block,
.cart-page .main-block + .checkout-summary-card {
  margin-top: var(--space-16);
}

/* –£–ª—É—á—à–µ–Ω–Ω–∞—è –≤–∏–∑—É–∞–ª—å–Ω–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ */
.cart-page h1 {
  margin-bottom: var(--space-16);
}

/* –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
@media (max-height: 500px) {
  .cart-page h1 {
    margin-bottom: var(--space-8);
    font-size: clamp(18px, 5vw, 22px);
  }
  
  .cart-page .main-block {
    padding: var(--space-12);
    margin-bottom: var(--space-8) !important;
  }
}
