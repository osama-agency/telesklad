// ========================================
// PROFILE MODULE - .profile- namespace
// ========================================

.profile-page {
  // Use new spacing system
  padding-top: var(--space-4);
  padding-bottom: var(--space-4);
  background-color: var(--color-bg);
  min-height: 100vh;
  width: 100%;
  
  // Main content stack with new spacing
  .profile-content-stack {
    @include stack(var(--space-4));
    width: 100%;
    max-width: 100%;
    margin: 0;
    padding: 0;
  }
  
  // Profile header
  .profile-header {
    margin: 0;
    padding: 0 var(--space-4);
    width: 100%;
    
    .profile-avatar {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      object-fit: cover;
    }
    
    h2 {
      font-size: var(--font-size-lg);
      font-weight: var(--font-weight-bold);
      line-height: 1.2;
      margin: 0;
      color: var(--color-text);
    }
    
    .profile-waving-hand {
      display: inline-block;
      animation: profileWave 2.5s infinite;
      transform-origin: 70% 70%;
      font-size: var(--font-size-base);
    }
  }
  
  // Bonus block
  .profile-bonus-block {
    @include card;
    margin: 0 var(--space-4);
    width: calc(100% - #{var(--space-8)});
    
    .profile-bonus-header {
      @include flex-between;
      margin-bottom: var(--space-4);
      
      h3 {
        font-size: var(--font-size-base);
        font-weight: var(--font-weight-semibold);
        margin: 0;
        color: var(--color-text);
      }
    }
    
    .profile-bonus-amount {
      font-size: var(--font-size-2xl);
      font-weight: var(--font-weight-bold);
      color: var(--color-primary);
      margin-bottom: var(--space-4);
    }
    
    .profile-bonus-tier {
      @include inline-stack(var(--space-2));
      margin-bottom: var(--space-4);
      
      .profile-tier-icon {
        width: 24px;
        height: 24px;
        flex-shrink: 0;
      }
      
      .profile-tier-name {
        font-size: var(--font-size-sm);
        font-weight: var(--font-weight-medium);
        color: var(--color-text);
      }
      
      .profile-tier-cashback {
        font-size: var(--font-size-sm);
        color: var(--color-primary);
        font-weight: var(--font-weight-medium);
      }
    }
    
    .profile-progress-section {
      .profile-progress-header {
        @include flex-between;
        margin-bottom: var(--space-2);
        
        .profile-progress-title {
          font-size: var(--font-size-sm);
          color: var(--color-text-light);
        }
        
        .profile-progress-target {
          font-size: var(--font-size-sm);
          font-weight: var(--font-weight-medium);
          color: var(--color-primary);
        }
      }
      
      .profile-progress-bar {
        height: 4px;
        background: #E5E7EB;
        border-radius: 2px;
        overflow: hidden;
        
        .profile-progress-fill {
          height: 100%;
          background: var(--color-primary);
          border-radius: 2px;
          transition: width 0.3s ease;
        }
      }
      
      .profile-progress-values {
        @include flex-between;
        margin-top: var(--space-2);
        
        span {
          font-size: var(--font-size-xs);
          color: var(--color-text-light);
        }
      }
    }
  }
  
  // Action cards container
  .profile-action-cards-container {
    @include stack(var(--space-2));
  }
  
  // Individual action card
  .profile-action-card {
    @include card;
    padding: var(--space-3);
    margin: 0 var(--space-4);
    width: calc(100% - #{var(--space-8)});
    
    .profile-action-card-content {
      @include inline-stack(var(--space-2));
      min-height: 40px;
    }
    
    .profile-action-card-icon {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      @include flex-center;
      background: var(--color-bg);
      flex-shrink: 0;
      
      svg {
        width: 18px;
        height: 18px;
        color: var(--color-text-light);
      }
    }
    
    .profile-action-card-text {
      @include stack(var(--space-1));
      flex: 1;
      min-width: 0;
    }
    
    .profile-action-card-title {
      font-size: var(--font-size-sm);
      font-weight: var(--font-weight-medium);
      margin: 0;
      color: var(--color-text);
      @include truncate;
    }
    
    .profile-action-card-description {
      font-size: var(--font-size-xs);
      line-height: 1.3;
      color: var(--color-text-light);
      margin: 0;
      @include truncate-lines(2);
    }
    
    .profile-action-card-arrow {
      @include flex-center;
      width: 24px;
      height: 24px;
      flex-shrink: 0;
      
      svg {
        width: 16px;
        height: 16px;
        color: var(--color-text-light);
      }
    }
    
    // Hover and active states
    &:hover {
      transform: translateY(-1px);
      box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
    }
    
    &:active {
      transform: translateY(0);
    }
  }
  
  // Link wrapper for action cards
  .profile-action-card-link {
    text-decoration: none;
    display: block;
    width: 100%;
    
    &:not(:last-child) {
      margin-bottom: var(--space-2);
    }
  }
}

// Waving hand animation
@keyframes profileWave {
  0% { transform: rotate(0deg); }
  10% { transform: rotate(14deg); }
  20% { transform: rotate(-8deg); }
  30% { transform: rotate(14deg); }
  40% { transform: rotate(-4deg); }
  50% { transform: rotate(10deg); }
  60% { transform: rotate(0deg); }
  100% { transform: rotate(0deg); }
}

// Responsive design
@include mobile {
  .profile-page {
    .profile-header {
      padding: 0 var(--space-3);
      
      h2 {
        font-size: var(--font-size-base);
      }
      
      .profile-waving-hand {
        font-size: var(--font-size-sm);
      }
    }
    
    .profile-bonus-block {
      margin: 0 var(--space-3);
      width: calc(100% - #{var(--space-6)});
      padding: var(--space-3);
      
      .profile-bonus-amount {
        font-size: var(--font-size-xl);
      }
    }
    
    .profile-action-card {
      margin: 0 var(--space-3);
      width: calc(100% - #{var(--space-6)});
      padding: var(--space-2);
      
      .profile-action-card-content {
        min-height: 36px;
      }
      
      .profile-action-card-icon {
        width: 28px;
        height: 28px;
        
        svg {
          width: 16px;
          height: 16px;
        }
      }
    }
  }
}

@include desktop {
  .profile-page {
    max-width: 768px;
    margin: 0 auto;
    
    .profile-header {
      padding: 0 var(--space-6);
    }
    
    .profile-bonus-block {
      margin: 0 var(--space-6);
      width: calc(100% - #{var(--space-12)});
    }
    
    .profile-action-card {
      margin: 0 var(--space-6);
      width: calc(100% - #{var(--space-12)});
    }
  }
}

// Dark theme support (optional, currently disabled)
@media (prefers-color-scheme: dark) {
  .profile-page {
    background-color: #1a1a1a;
    
    .profile-bonus-block {
      background: #2d2d2d;
      border: 1px solid #3d3d3d;
    }
    
    .profile-action-card {
      background: #2d2d2d;
      border: 1px solid #3d3d3d;
    }
    
    .profile-action-card-icon {
      background: #1a1a1a;
    }
  }
} 