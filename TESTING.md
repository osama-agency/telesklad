# –¢–µ—Å—Ç–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ WebApp

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è **–±–µ–∑ –ø—Ä–∏–≤—è–∑–∫–∏ –∫ Telegram** –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏. –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —Ç–µ—Å—Ç–æ–≤—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

### –¢–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- **ID**: `9999`
- **–ò–º—è**: –¢–µ—Å—Ç –¢–µ—Å—Ç–æ–≤–∏—á –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- **Email**: test@webapp.local
- **–¢–µ–ª–µ—Ñ–æ–Ω**: +7 (999) 999-99-99
- **–ë–æ–Ω—É—Å—ã**: 1000‚ÇΩ
- **–ó–∞–∫–∞–∑–æ–≤**: 5

### –¢–µ—Å—Ç–æ–≤—ã–µ –∑–∞–∫–∞–∑—ã
–ü—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è 3 —Ç–µ—Å—Ç–æ–≤—ã—Ö –∑–∞–∫–∞–∑–∞:

1. **–ó–∞–∫–∞–∑ "–î–æ—Å—Ç–∞–≤–ª–µ–Ω"** (–º–µ—Å—è—Ü –Ω–∞–∑–∞–¥)
   - –°—Ç–∞—Ç—É—Å: –î–æ—Å—Ç–∞–≤–ª–µ–Ω ‚úÖ
   - –¢—Ä–µ–∫-–Ω–æ–º–µ—Ä: TRK001
   - –¢–æ–≤–∞—Ä—ã: 2x Atominex 10mg + 1x Abilify 15mg
   - –°—É–º–º–∞: ~13,600‚ÇΩ

2. **–ó–∞–∫–∞–∑ "–û—Ç–ø—Ä–∞–≤–ª–µ–Ω"** (2 –Ω–µ–¥–µ–ª–∏ –Ω–∞–∑–∞–¥)
   - –°—Ç–∞—Ç—É—Å: –û—Ç–ø—Ä–∞–≤–ª–µ–Ω üöö
   - –¢—Ä–µ–∫-–Ω–æ–º–µ—Ä: TRK002
   - –¢–æ–≤–∞—Ä—ã: 1x Attex 100mg + 3x Atominex 25mg
   - –°—É–º–º–∞: ~23,000‚ÇΩ

3. **–ó–∞–∫–∞–∑ "–û–ø–ª–∞—á–µ–Ω"** (–Ω–µ–¥–µ–ª—é –Ω–∞–∑–∞–¥)
   - –°—Ç–∞—Ç—É—Å: –û–ø–ª–∞—á–µ–Ω üí≥
   - –¢–æ–≤–∞—Ä—ã: 1x Atominex 60mg + 2x Atominex 40mg
   - –°—É–º–º–∞: ~15,500‚ÇΩ

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –ª—é–±–æ–º—É API `/api/webapp/*` —Ç–µ—Å—Ç–æ–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ –≤—Å–µ–º–∏ –¥–∞–Ω–Ω—ã–º–∏.

## API Endpoints

–í—Å–µ API —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º:

### Profile API
```bash
# –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å (—Å–æ–∑–¥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –µ—Å–ª–∏ –µ–≥–æ –Ω–µ—Ç)
GET /api/webapp/profile

# –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ—Ñ–∏–ª—å
PUT /api/webapp/profile
```

### Orders API (–ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤)
```bash
# –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∑–∞–∫–∞–∑–æ–≤
GET /api/webapp/orders
```

### Subscriptions API (–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–∏)
```bash
# –ü–æ–ª—É—á–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏
GET /api/webapp/subscriptions

# –°–æ–∑–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
POST /api/webapp/subscriptions
Content-Type: application/json
{"product_id": 11}

# –£–¥–∞–ª–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É
DELETE /api/webapp/subscriptions?product_id=11
```

### Favorites API (–ò–∑–±—Ä–∞–Ω–Ω–æ–µ)
```bash
# –ü–æ–ª—É—á–∏—Ç—å –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
GET /api/webapp/favorites

# –î–æ–±–∞–≤–∏—Ç—å –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
POST /api/webapp/favorites
Content-Type: application/json
{"product_id": 7}

# –£–¥–∞–ª–∏—Ç—å –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
DELETE /api/webapp/favorites?product_id=7
```

### Products API
```bash
# –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä—ã
GET /api/webapp/products

# –ü–æ–ª—É—á–∏—Ç—å –∫–∞—Ç–µ–≥–æ—Ä–∏–∏
GET /api/webapp/categories
```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ë—ã—Å—Ç—Ä—ã–π —Ç–µ—Å—Ç –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π:
```bash
# 1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å –∑–∞–∫–∞–∑–∞–º–∏
curl -X GET http://localhost:3000/api/webapp/profile

# 2. –ü–æ–ª—É—á–∏—Ç—å –∏—Å—Ç–æ—Ä–∏—é –∑–∞–∫–∞–∑–æ–≤
curl -X GET http://localhost:3000/api/webapp/orders

# 3. –ü–æ–ª—É—á–∏—Ç—å —Ç–æ–≤–∞—Ä—ã
curl -X GET http://localhost:3000/api/webapp/products

# 4. –°–æ–∑–¥–∞—Ç—å –ø–æ–¥–ø–∏—Å–∫—É –Ω–∞ —Ç–æ–≤–∞—Ä ID 11
curl -X POST http://localhost:3000/api/webapp/subscriptions \
  -H "Content-Type: application/json" \
  -d '{"product_id": 11}'

# 5. –î–æ–±–∞–≤–∏—Ç—å —Ç–æ–≤–∞—Ä ID 7 –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
curl -X POST http://localhost:3000/api/webapp/favorites \
  -H "Content-Type: application/json" \
  -d '{"product_id": 7}'

# 6. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫–∏
curl -X GET http://localhost:3000/api/webapp/subscriptions

# 7. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
curl -X GET http://localhost:3000/api/webapp/favorites
```

## –û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å–±—Ä–æ—Å–∏—Ç—å —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:

```bash
node scripts/reset-test-user.js
```

–≠—Ç–æ —É–¥–∞–ª–∏—Ç:
- –¢–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –í—Å–µ –µ–≥–æ –ø–æ–¥–ø–∏—Å–∫–∏
- –í—Å–µ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ
- –ö–æ—Ä–∑–∏–Ω—ã –∏ –∑–∞–∫–∞–∑—ã
- –¢–æ–≤–∞—Ä—ã –∑–∞–∫–∞–∑–æ–≤ (order_items)

–ü—Ä–∏ —Å–ª–µ–¥—É—é—â–µ–º –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ API –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∑–∞–Ω–æ–≤–æ —Å –Ω–æ–≤—ã–º–∏ —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –∑–∞–∫–∞–∑–∞–º–∏.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ webapp

### –°—Ç—Ä–∞–Ω–∏—Ü—ã:
- `/webapp` - –ö–∞—Ç–∞–ª–æ–≥ —Ç–æ–≤–∞—Ä–æ–≤
- `/webapp/cart` - –ö–æ—Ä–∑–∏–Ω–∞
- `/webapp/favorites` - –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
- `/webapp/profile` - –ü—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `/webapp/subscriptions` - –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Ç–æ–≤–∞—Ä—ã
- `/webapp/orders` - –ò—Å—Ç–æ—Ä–∏—è –∑–∞–∫–∞–∑–æ–≤ ‚≠ê **–° —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏**
- `/webapp/support` - –ü–æ–¥–¥–µ—Ä–∂–∫–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- `ProductGrid` - –°–µ—Ç–∫–∞ —Ç–æ–≤–∞—Ä–æ–≤ —Å –∫–Ω–æ–ø–∫–∞–º–∏ –ø–æ–¥–ø–∏—Å–∫–∏/–∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ
- `ProductCatalog` - –ö–∞—Ç–∞–ª–æ–≥ —Å –Ω–∞–≤–∏–≥–∞—Ü–∏–µ–π
- `CartSummary` - –ü–ª–∞–≤–∞—é—â–∞—è –∫–æ—Ä–∑–∏–Ω–∞
- `BottomNavigation` - –ù–∏–∂–Ω–µ–µ –º–µ–Ω—é
- `ProfileForm` - –§–æ—Ä–º–∞ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª—è
- `ActionCards` - –ö–∞—Ä—Ç–æ—á–∫–∏ –≤ –ø—Ä–æ—Ñ–∏–ª–µ

## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

–°–∏—Å—Ç–µ–º–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç–µ –∂–µ —Ç–∞–±–ª–∏—Ü—ã —á—Ç–æ –∏ Rails –ø—Ä–æ–µ–∫—Ç:
- `users` - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏  
- `products` - –¢–æ–≤–∞—Ä—ã
- `orders` - –ó–∞–∫–∞–∑—ã ‚≠ê **–° —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏**
- `order_items` - –¢–æ–≤–∞—Ä—ã –≤ –∑–∞–∫–∞–∑–∞—Ö ‚≠ê **–° —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏**
- `product_subscriptions` - –ü–æ–¥–ø–∏—Å–∫–∏ –Ω–∞ —Ç–æ–≤–∞—Ä—ã
- `favorites` - –ò–∑–±—Ä–∞–Ω–Ω–æ–µ
- `account_tiers` - –£—Ä–æ–≤–Ω–∏ –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ —Å—Ä–µ–¥—ã

```env
DATABASE_URL="postgresql://..."
NEXTAUTH_SECRET="your-secret"
NEXTAUTH_URL="http://localhost:3000"
```

## –ó–∞–ø—É—Å–∫

```bash
npm run dev
# –∏–ª–∏
yarn dev
```

Webapp –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: http://localhost:3000/webapp

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö

–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–µ—Å—Ç–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ —Å–∏—Å—Ç–µ–º–µ –±—É–¥–µ—Ç:
- **3 –∑–∞–∫–∞–∑–∞** –Ω–∞ –æ–±—â—É—é —Å—É–º–º—É ~52,100‚ÇΩ
- **10 —Ç–æ–≤–∞—Ä–æ–≤** –≤ –∑–∞–∫–∞–∑–∞—Ö
- **155‚ÇΩ** –∑–∞—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö –±–æ–Ω—É—Å–æ–≤
- **–†–∞–∑–Ω—ã–µ —Å—Ç–∞—Ç—É—Å—ã**: –¥–æ—Å—Ç–∞–≤–ª–µ–Ω, –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω, –æ–ø–ª–∞—á–µ–Ω
- **–¢—Ä–µ–∫-–Ω–æ–º–µ—Ä–∞** –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è 